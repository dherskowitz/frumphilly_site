{% extends 'dashboard.html' %}
{% load webpack_static from webpack_loader %}

{% block template_css %}
<link href="{% webpack_static 'libs/trix.css' %}" rel="stylesheet">
<style>
    .trix-button-group--file-tools {
        display: none !important;
    }
</style>
{% endblock template_css %}


{% block main %}
<section class="my-10">
    <h2 class="text-5xl text-white text-shadow my-4">Create {{category_group.title|capfirst}} Listing</h2>
    {% include 'components/errors.html' %}
    <div>
        <form class="form" action="{% url 'listings_create' category_group.slug %}" method="POST" enctype='multipart/form-data'>
            {% csrf_token %}
            {% include 'listings/_form.html' %}
            {% include 'components/submit_btn.html' with value='Create Listing' class="btn btn-block btn-lg btn--form-submit mt-4" %}
        </form>
    </div>
</section>

<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCVHtWZFQ4D4WQ2ie8Fe8FaW7_VHlfQPuk&libraries=places&region=US&types=(regions)"></script>
{% endblock main %}

{% block template_js %}
<script>
    document.getElementById("id_business_name").focus();
    document.getElementById("id_phone").addEventListener("input", (e) => formatPhone(e));
    document.getElementById("id_whatsapp").addEventListener("input", (e) => formatPhone(e));
    document.getElementById("id_mobile").addEventListener("input", (e) => formatPhone(e));
    document.getElementById("id_fax").addEventListener("input", (e) => formatPhone(e));
</script>
<script src="{% webpack_static 'libs/trix.js' %}"></script>
{% endblock template_js %}
